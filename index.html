<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mobile Tennis ðŸ”¥</title>
<style>
  body {
    margin: 0;
    background: linear-gradient(to bottom, #141e30, #243b55);
    overflow: hidden;
    font-family: Arial, sans-serif;
    touch-action: none;
  }
  #scoreboard {
    color: white;
    text-align: center;
    font-size: 20px;
    padding: 10px;
  }
  canvas {
    display: block;
    margin: auto;
    background: #1b5e20;
    border-radius: 12px;
  }
</style>
</head>
<body>

<div id="scoreboard">Sen: 0 | Bot: 0</div>
<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

// ðŸ“± Canvas size = phone screen
canvas.width = window.innerWidth - 10;
canvas.height = window.innerHeight - 80;

// Scores
let playerScore = 0;
let botScore = 0;
let speed = 4;

// Rackets
const paddleW = 14;
const paddleH = 90;

const player = {
  x: 15,
  y: canvas.height / 2 - paddleH / 2,
  w: paddleW,
  h: paddleH
};

const bot = {
  x: canvas.width - 30,
  y: canvas.height / 2 - paddleH / 2,
  w: paddleW,
  h: paddleH
};

// Ball
const ball = {
  x: canvas.width / 2,
  y: canvas.height / 2,
  r: 10,
  dx: speed,
  dy: speed
};

// ðŸ”Š Sound
const hit = new Audio("https://www.soundjay.com/button/beep-07.mp3");
const score = new Audio("https://www.soundjay.com/button/button-3.mp3");

// âœ‹ TOUCH CONTROL (PLAYER)
canvas.addEventListener("touchmove", e => {
  const touchY = e.touches[0].clientY;
  player.y = touchY - paddleH / 2;
  if (player.y < 0) player.y = 0;
  if (player.y + paddleH > canvas.height)
    player.y = canvas.height - paddleH;
});

// Draw
function rect(x,y,w,h,c){
  ctx.fillStyle=c;
  ctx.fillRect(x,y,w,h);
}
function circle(x,y,r,c){
  ctx.fillStyle=c;
  ctx.beginPath();
  ctx.arc(x,y,r,0,Math.PI*2);
  ctx.fill();
}

// Reset ball
function resetBall(){
  ball.x = canvas.width/2;
  ball.y = canvas.height/2;
  ball.dx = (Math.random() > 0.5 ? 1 : -1) * speed;
  ball.dy = (Math.random() > 0.5 ? 1 : -1) * speed;
  speed += 0.3;
}

// Update
function update(){
  ball.x += ball.dx;
  ball.y += ball.dy;

  // Wall
  if(ball.y < 0 || ball.y > canvas.height) ball.dy *= -1;

  // Bot AI (smooth)
  bot.y += (ball.y - (bot.y + bot.h/2)) * 0.08;
  if(bot.y < 0) bot.y = 0;
  if(bot.y + bot.h > canvas.height) bot.y = canvas.height - bot.h;

  // Collision player
  if(ball.x - ball.r < player.x + player.w &&
     ball.y > player.y &&
     ball.y < player.y + player.h){
      ball.dx *= -1;
      hit.play();
  }

  // Collision bot
  if(ball.x + ball.r > bot.x &&
     ball.y > bot.y &&
     ball.y < bot.y + bot.h){
      ball.dx *= -1;
      hit.play();
  }

  // Score
  if(ball.x < 0){
    botScore++;
    score.play();
    resetBall();
  }
  if(ball.x > canvas.width){
    playerScore++;
    score.play();
    resetBall();
  }

  document.getElementById("scoreboard").innerText =
    You: ${playerScore} | Bot: ${botScore};
}

// Draw all
function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  rect(player.x,player.y,player.w,player.h,"#fff");
  rect(bot.x,bot.y,bot.w,bot.h,"#fff");
  circle(ball.x,ball.y,ball.r,"#ffeb3b");

  // center line
  for(let i=0;i<canvas.height;i+=25){
    rect(canvas.width/2-2,i,4,15,"#fff");
  }
}

// Loop
function game(){
  update();
  draw();
  requestAnimationFrame(game);
}
game();
</script>
</body>
</html>
